package com.example.bobgo;

import android.app.Activity;
import android.app.Dialog;
import android.content.SharedPreferences;
import android.os.AsyncTask;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ImageView;
import edu.handong.babgo.common.GlobalVariables;

public class Settings extends Activity {
    String id;
    String pw;
    String pn;
    
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.layout_settings);
        
	    ImageView iv_id = (ImageView)findViewById(R.id.id_setting);
	    ImageView iv_ap = (ImageView)findViewById(R.id.appointment_setting);
	    
	    iv_id.setOnClickListener(new View.OnClickListener(){
	    	public void onClick(View v){
	    		final Dialog dialog = new Dialog(Settings.this);
	    		dialog.setContentView(R.layout.layout_dialog);
	    		dialog.setTitle("Information Setting");
	 
	    		Button bt_ok = (Button)dialog.findViewById(R.id.bt_ok);
	    		Button bt_cancel = (Button)dialog.findViewById(R.id.bt_cancel);
	    		
	    		bt_ok.setOnClickListener(new OnClickListener(){
	    			public void onClick(View v){
	    	    		EditText et_id = (EditText)findViewById(R.id.IDedit);
	    	    		EditText et_pw = (EditText)findViewById(R.id.PWedit);
	    	    		EditText et_pn = (EditText)findViewById(R.id.PNedit);
	    				id = et_id.getText().toString();
	    				pw = et_pw.getText().toString();
	    				pn = et_pn.getText().toString();
	    				
	    				new SettingsAsyncTask().execute("");
//	    				
//	    				SharedPreferences spf = getSharedPreferences(edu.handong.babgo.common.GlobalVariables.SETTINGS, 0);
//	    				SharedPreferences.Editor edit = spf.edit();
//	    				edit.putString(GlobalVariables.HISNET_ID, id);
//	    				edit.putString(GlobalVariables.PASSWORD, pw);
//	    				edit.putString(GlobalVariables.PHONE, pn);
//
//	    				//변경된 설정을 commit
//	    				edit.commit();
//	    				
//	    				dialog.dismiss();
	    			}
	    		});
	    		bt_cancel.setOnClickListener(new OnClickListener(){
	    			public void onClick(View v){
	    				dialog.dismiss();
	    			}
	    		});
	    		
	    		dialog.show();
	    		
	    	}
	    });
	    
	    iv_ap.setOnClickListener(new View.OnClickListener(){
	    	
	    	public void onClick(View v){
		    	//Intent i = new Intent(Settings.this, SetAppointment.class);
		    	//startActivity(i);
	    	}
	    	
	    });
    
    }
    
    private class SettingsAsyncTask extends AsyncTask<String, String, String>{
    	@Override
    	protected void onPreExecute(){
    		
    	}
    	
		@Override
		protected String doInBackground(String... params) {
			// TODO Auto-generated method stub
			return null;
		}
		
		@Override
		protected void onPostExecute(String arg){
			
		}
    	
    	
    }
}
