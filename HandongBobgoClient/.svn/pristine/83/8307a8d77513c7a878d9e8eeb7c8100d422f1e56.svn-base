package com.example.bobgo;

import android.app.Activity;
import android.database.Cursor;
import android.os.Bundle;
import android.provider.ContactsContract;
import android.util.Log;
import android.widget.ArrayAdapter;
import android.widget.ListView;

public class FriendMatching extends Activity {

	String tag = null;
	
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.layout_friend_matching);
        
        Cursor cursor = getContentResolver().query(ContactsContract.Contacts.CONTENT_URI, null, null, null, ContactsContract.Contacts.DISPLAY_NAME + " ASC ");
    
        int end = cursor.getCount();
        Log.d(tag, "end = " + end);
        
        String [] name = new String[end];
        int count = 0;
        
        if(cursor.moveToFirst()){
        	do{
        		name[count] = cursor.getString(cursor.getColumnIndex(ContactsContract.Data.DISPLAY_NAME));
        		Log.d(tag, "name[" + count + "]=" + name[count]);
        		count++;
        	}while(cursor.moveToNext() || count < end);
        }
        
        ListView listView = (ListView)findViewById(R.id.listView1);
        ArrayAdapter<String> adapter = new ArrayAdapter<String>(FriendMatching.this, android.R.layout.simple_list_item_1, name);
        listView.setAdapter(adapter);
    }
}